<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 16 💻 Binary LogReg exer | Statistics &amp; Big Data 24-25 Labs</title>
<meta name="author" content="Dr. Niccolò Salvini">
<meta name="description" content="These are a collection of exercises concerning linear regression stuff! Some of them are actually (noised chaging data) samples from the exam, so dig into it 🦫! Some of them will be done in class...">
<meta name="generator" content="bookdown 0.29 with bs4_book()">
<meta property="og:title" content="Chapter 16 💻 Binary LogReg exer | Statistics &amp; Big Data 24-25 Labs">
<meta property="og:type" content="book">
<meta property="og:description" content="These are a collection of exercises concerning linear regression stuff! Some of them are actually (noised chaging data) samples from the exam, so dig into it 🦫! Some of them will be done in class...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 16 💻 Binary LogReg exer | Statistics &amp; Big Data 24-25 Labs">
<meta name="twitter:description" content="These are a collection of exercises concerning linear regression stuff! Some of them are actually (noised chaging data) samples from the exam, so dig into it 🦫! Some of them will be done in class...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.5.1/transition.js"></script><script src="libs/bs3compat-0.5.1/tabs.js"></script><script src="libs/bs3compat-0.5.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/kePrint-0.0.1/kePrint.js"></script><link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<link rel="shortcut icon" href="images/cattolica-logo-favicon.png">
<script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<style type="text/css">
    /* Used with Pandoc 2.11+ new --citeproc when CSL is used */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
        }
    .hanging div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }
  </style>
<link rel="stylesheet" href="style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Statistics &amp; Big Data 24-25 Labs</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html"><span class="header-section-number">1</span> 🫶 About</a></li>
<li class="book-part">Get Started</li>
<li><a class="" href="prereq.html"><span class="header-section-number">2</span> ✨Prerequisites</a></li>
<li><a class="" href="r-packages.html"><span class="header-section-number">3</span> 📦 R Packages</a></li>
<li><a class="" href="nice-warm-up.html"><span class="header-section-number">4</span> 🔥 Nice warm-up</a></li>
<li><a class="" href="syllabus.html"><span class="header-section-number">5</span> 🗒️ Syllabus</a></li>
<li><a class="" href="hypothesis-testing.html"><span class="header-section-number">6</span> 💻 Hypothesis Testing</a></li>
<li><a class="" href="essentials-of-data-wrangling-and-basic-statistics.html"><span class="header-section-number">7</span> 💻 Essentials of Data Wrangling and Basic Statistics</a></li>
<li><a class="" href="lin-reg.html"><span class="header-section-number">8</span> Linear Regression</a></li>
<li><a class="" href="lin-reg-class.html"><span class="header-section-number">9</span> 💻 Linear Regression in class</a></li>
<li><a class="" href="int-samp-q-second.html"><span class="header-section-number">10</span> 💻 Second Intermediate Sample Questions</a></li>
<li><a class="" href="int-samp-q.html"><span class="header-section-number">11</span> 💻 Intermediate Sample Questions</a></li>
<li><a class="" href="anova.html"><span class="header-section-number">12</span> 💻 ANOVA</a></li>
<li><a class="" href="dummy-vars.html"><span class="header-section-number">13</span> 💻 Dummy Variables</a></li>
<li><a class="" href="int-prep.html"><span class="header-section-number">14</span> 💻 Intermediate preparation</a></li>
<li><a class="" href="log-reg.html"><span class="header-section-number">15</span> 💻 Binary Logistic Regression</a></li>
<li><a class="active" href="log-reg-ex.html"><span class="header-section-number">16</span> 💻 Binary LogReg exer</a></li>
<li><a class="" href="pca.html"><span class="header-section-number">17</span> 💻 PCA</a></li>
<li><a class="" href="poi-reg-ex.html"><span class="header-section-number">18</span> 💻 Poisson regr exer</a></li>
<li><a class="" href="hier-clust-ex.html"><span class="header-section-number">19</span> 💻 Hierarchical Clustering</a></li>
<li><a class="" href="k-mean-ex.html"><span class="header-section-number">20</span> 💻 K-Means Clustering</a></li>
<li><a class="" href="reg-tree-ex.html"><span class="header-section-number">21</span> 💻 Regression Trees</a></li>
<li><a class="" href="course-performance.html"><span class="header-section-number">22</span> ⚡ course performance</a></li>
<li><a class="" href="how-to-ask-for-help.html"><span class="header-section-number">23</span> ✋ How to ask for help!</a></li>
<li><a class="" href="frequently-asked-questions.html"><span class="header-section-number">24</span> ❓ Frequently Asked Questions</a></li>
<li class="book-part">Appendix</li>
<li><a class="" href="StatisticsAndParameters.html"><span class="header-section-number">25</span> Symbols, formulas, statistics and parameters</a></li>
<li><a class="" href="appendixdatasets.html"><span class="header-section-number">26</span> Datasets</a></li>
<li><a class="" href="references.html">References</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://sbd-labs-22-23.netlify.app">View book source <i class="fab fa-gitlab"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="log-reg-ex" class="section level1" number="16">
<h1>
<span class="header-section-number">16</span> 💻 Binary LogReg exer<a class="anchor" aria-label="anchor" href="#log-reg-ex"><i class="fas fa-link"></i></a>
</h1>
<p>These are a collection of exercises concerning linear regression stuff! Some of them are actually (noised chaging data) samples from the exam, so dig into it 🦫! Some of them will be done in class during lecture, some others are left to you as a to-do-at-home exer.</p>
<p>In class if you are stuck either ask to the teacher or assemble a group to work with! Collaboration in key 👯‍♂️!</p>
<div id="mixed-exercises" class="section level2" number="16.1">
<h2>
<span class="header-section-number">16.1</span> mixed Exercises 👨‍💻<a class="anchor" aria-label="anchor" href="#mixed-exercises"><i class="fas fa-link"></i></a>
</h2>
<div class="exercise">
<p><span id="exr:logreg" class="exercise"><strong>Exercise 16.1  </strong></span>Load the <code>MASS</code> package and combine <code>Pima.tr</code> and <code>Pima.tr2</code> to a data.frame called <code>train</code> and save <code>Pima.te</code> as <code>test.</code> Change the coding of our variable of interest to (type) to 0 (non-diabetic) and 1 (diabetic). Check for and take note of any missing values.</p>
<p>Using the <code><a href="https://rdrr.io/r/stats/glm.html">glm()</a></code> and the train data fit a logistic model of type on age and bmi. Print out the coefficients and their p-value.</p>
</div>
<p>As you do with linear regression you just specify first the model formula, then data and the end the link. The link is actually the logistic (logit).</p>
<div class="answer">
<p><strong>Answer to Question</strong> <a href="log-reg-ex.html#exr:logreg">16.1</a>:</p>
<pre><code><a href="http://www.stats.ox.ac.uk/pub/MASS4/">library(MASS)
library(ggplot2)

train &lt;- rbind(Pima.tr, Pima.tr2)
test  &lt;- Pima.te

train$type &lt;- as.integer(train$type) - 1L
test$type &lt;- as.integer(test$type) - 1L</a></code></pre>
<p>Missing values?</p>
<pre><code>sapply(train, function(x) sum(is.na(x)))</code></pre>
<p>Estimate the Logistic regression a) formula b) data c) family = binomial :</p>
<pre><code>lg1 &lt;- glm(type ~ age + bmi, data = train, family = binomial)
summary(lg1)$coefficients[, c(1, 4)]</code></pre>
</div>
<hr>
<div class="exercise">
<p><span id="exr:logreg2" class="exercise"><strong>Exercise 16.2  </strong></span>Take into considerationd data from the “two truths and a lie” experiment described at the beginning of these lesson are available from <code>two-truths-and-a-lie-2022-cleaned.csv</code> in the <code>data</code> directory of my website:</p>
<p>Read the dataset directly into R from the web, storing it in a data.frame called two_truthshttps://ditraglia.com/data/</p>
<p>Run a logistic regression that predicts <code>guessed_right</code> based on <code>certainty.</code> Is that coef stat significant?</p>
</div>
<p>As you may see the estimated coefficient for certainty is negative! This means that on average we predict more wrong guesses as students’ subjective certainty in their guesses increases.</p>
<div class="answer">
<p><strong>Answer to Question</strong> <a href="log-reg-ex.html#exr:logreg2">16.2</a>:</p>
<p>This needs to read the data:</p>
<pre><code><a href="https://tidyverse.tidyverse.org">library(tidyverse)
data_url &lt;- 'https://ditraglia.com/data/two-truths-and-a-lie-2022-cleaned.csv'
two_truths &lt;- read_csv(data_url)</a></code></pre>
<p>this to perform log reg:</p>
<pre><code>two_truths_reg &lt;- glm(guessed_right ~ certainty, family = binomial(link = 'logit'),
                      data = two_truths)
summary(two_truths_reg)</code></pre>
</div>
<hr>
<div class="exercise">
<p><span id="exr:logreg3" class="exercise"><strong>Exercise 16.3  </strong></span><code>BreastCancer</code> is a data frame with 699 observations on 11 variables, one being a character variable, 9 being ordered or nominal, and 1 target class. and it is in <code>mlbench</code> package. The objective is to identify each of a number of benign or malignant classes. Samples arrive periodically as Dr. Wolberg reports his clinical cases. The database therefore reflects this chronological grouping of the data. This grouping information appears immediately below, having been removed from the data itself. Each variable except for the first was converted into 11 primitive numerical attributes with values ranging from 0 through 10. There are 16 missing attribute values. See cited below for more details.</p>
</div>
<p>commento prima dell’esercizio</p>
<div class="answer">
<p><strong>Answer to Question</strong> <a href="log-reg-ex.html#exr:logreg3">16.3</a>:</p>
<p>At first tou load the data.</p>
<pre><code>data(BreastCancer, package="mlbench")
bc &lt;- BreastCancer[complete.cases(BreastCancer), ]</code></pre>
<p>then you take a glance of it</p>
<pre><code>str(bc)</code></pre>
<p>in the end you fit a model:</p>
<pre><code>glm(Class ~ Cell.shape, family="binomial", data = bc)</code></pre>
</div>
<hr>
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="log-reg.html"><span class="header-section-number">15</span> 💻 Binary Logistic Regression</a></div>
<div class="next"><a href="pca.html"><span class="header-section-number">17</span> 💻 PCA</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#log-reg-ex"><span class="header-section-number">16</span> 💻 Binary LogReg exer</a></li>
<li><a class="nav-link" href="#mixed-exercises"><span class="header-section-number">16.1</span> mixed Exercises 👨‍💻</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://sbd-labs-22-23.netlify.app/blob/master/07bis-lab-logreg-exercises.Rmd">View source <i class="fab fa-gitlab"></i></a></li>
          <li><a id="book-edit" href="https://sbd-labs-22-23.netlify.app/edit/master/07bis-lab-logreg-exercises.Rmd">Edit this page <i class="fab fa-gitlab"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Statistics &amp; Big Data 24-25 Labs</strong>" was written by Dr. Niccolò Salvini. It was last built on 2024-10-26.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
